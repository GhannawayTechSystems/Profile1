<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Elvis Ndombi | Founder, Software Developer & Systems Architect</title>

  <!-- SEO -->
  <meta name="description" content="Elvis Ndombi, Founder of Ghannaway Tech Systems. Software Developer, Systems Architect, and Technology Innovator." />
  <meta name="author" content="Elvis Ndombi" />
  <link rel="canonical" href="https://ghannawaytechsystems.github.io/" />

  <!-- Open Graph -->
  <meta property="og:title" content="Elvis Ndombi | Professional Portfolio" />
  <meta property="og:description" content="Founder of Ghannaway Tech Systems. Software Developer, Systems Architect, and Innovator." />
  <meta property="og:type" content="website" />

  <style>
    :root {
      --bg: #f4f6f8;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #64748b;
      --primary: #0a84ff;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    header {
      background: linear-gradient(135deg, #020617, #0f172a);
      color: #fff;
      padding: 70px 20px;
      text-align: center;
    }

    header img {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid #fff;
      margin-bottom: 15px;
    }

    header h1 { margin: 10px 0 5px; font-size: 36px; }
    header p { margin: 0; font-size: 18px; color: #cbd5f5; }

    .container {
      width: 90%;
      max-width: 1100px;
      margin: auto;
      padding: 40px 0;
    }

    .section-title {
      font-size: 26px;
      margin: 50px 0 20px;
      border-left: 5px solid var(--primary);
      padding-left: 14px;
    }

    .card {
      background: var(--card);
      padding: 24px;
      border-radius: 16px;
      box-shadow: 0 10px 22px rgba(0,0,0,0.08);
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 24px;
    }

    .item {
      background: var(--card);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 10px 22px rgba(0,0,0,0.1);
      transition: transform .25s ease;
    }

    .item:hover { transform: translateY(-6px); }

    .item img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .item-content { padding: 18px; }

    .item-content h3 { margin: 0 0 10px; font-size: 20px; }
    .item-content p { margin: 0 0 14px; color: var(--muted); }

    a.primary {
      color: var(--primary);
      font-weight: 600;
      text-decoration: none;
    }

    footer {
      text-align: center;
      padding: 30px 15px;
      font-size: 14px;
      color: #94a3b8;
      background: #020617;
    }
  </style>
</head>

<body>

<header>
  <img id="profilePic" src="" alt="Elvis Ndombi" loading="lazy" />
  <h1 id="profileName">Loading...</h1>
  <p id="profileTitle"></p>
</header>

<main class="container">

  <!-- ABOUT -->
  <section>
    <h2 class="section-title">About Me</h2>
    <div class="card" id="about">Loading...</div>
  </section>

  <!-- PROJECTS -->
  <section>
    <h2 class="section-title">Projects</h2>
    <div class="grid" id="projects">Loading...</div>
  </section>

  <!-- BLOG PREVIEW -->
  <section>
    <h2 class="section-title">Latest Blog Posts</h2>
    <div class="grid" id="blog">Loading...</div>
    <p style="margin-top:20px"><a class="primary" href="blog.html">View all posts →</a></p>
  </section>

  <!-- SKILLS -->
  <section>
    <h2 class="section-title">Skills</h2>
    <div class="card" id="skills">Loading...</div>
  </section>

  <!-- CERTIFICATIONS -->
  <section>
    <h2 class="section-title">Certifications</h2>
    <div class="card" id="certs">Loading...</div>
  </section>

</main>

<footer>
  © <span id="year"></span> Ghannaway Tech Systems
</footer>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbwSXOWD-_EP4UnGFK3ffaZseX-tQJ7aM9lzwM2aninGseWfG5XleABKHDknPU2mmloFMg/exec";
document.getElementById('year').textContent = new Date().getFullYear();

fetch(API_URL)
  .then(r => r.json())
  .then(data => {
    const p = data.profile || {};
    profilePic.src = p.image || 'assets/profile.jpg';
    profileName.textContent = p.name || 'Elvis Ndombi';
    profileTitle.textContent = p.title || 'Founder & Software Developer';
    about.textContent = p.about || '';

    projects.innerHTML = '';
    (data.projects || []).forEach(x => {
      projects.innerHTML += `
        <div class="item">
          <img src="${x.image}" alt="${x.name}" loading="lazy">
          <div class="item-content">
            <h3>${x.name}</h3>
            <p>${x.description}</p>
            <a class="primary" href="${x.url}" target="_blank">View Project →</a>
          </div>
        </div>`;
    });

    blog.innerHTML = '';
    (data.blog || []).slice(0,3).forEach(b => {
      blog.innerHTML += `
        <div class="item">
          <img src="${b.image}" alt="${b.title}" loading="lazy">
          <div class="item-content">
            <h3>${b.title}</h3>
            <p>${b.excerpt}</p>
            <a class="primary" href="post.html?slug=${b.slug}">Read →</a>
          </div>
        </div>`;
    });

    skills.innerHTML = (data.skills || []).map(s => `<p><strong>${s.skill}</strong> – ${s.level}</p>`).join('');

    certs.innerHTML = (data.certifications || []).map(c =>
      `<p><strong>${c.name}</strong> – ${c.issuer} (${c.year})<br><a href="${c.credential_url}" target="_blank">View</a></p>`
    ).join('');
  });
</script>

</body>
</html>
